{\rtf1\ansi\ansicpg1252\cocoartf2822
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\froman\fcharset0 Times-Roman;}
{\colortbl;\red255\green255\blue255;\red0\green0\blue0;}
{\*\expandedcolortbl;;\cssrgb\c0\c0\c0;}
\paperw11900\paperh16840\margl1440\margr1440\vieww11520\viewh8400\viewkind0
\deftab720
\pard\pardeftab720\partightenfactor0

\f0\fs24 \cf0 \expnd0\expndtw0\kerning0
\outl0\strokewidth0 \strokec2 <!DOCTYPE html> <html lang="pt-BR"> <head> <meta charset="UTF-8"> <meta name="viewport" content="width=device-width, initial-scale=1.0"> <title>Painel do Paciente</title> <script src="https://cdn.tailwindcss.com"></script> <link rel="preconnect" href="https://fonts.googleapis.com"> <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"> <script src="https://unpkg.com/feather-icons"></script> <style> body \{ font-family: 'Inter', sans-serif; \} .loader \{ border: 4px solid #f3f3f3; border-radius: 50%; border-top: 4px solid #3498db; width: 40px; height: 40px; animation: spin 2s linear infinite; \} @keyframes spin \{ 0% \{ transform: rotate(0deg); \} 100% \{ transform: rotate(360deg); \} \} </style> </head> <body class="bg-slate-50 text-slate-800"> <div id="loading-screen" class="fixed inset-0 bg-white z-50 flex items-center justify-center"><div class="loader"></div></div> <div id="app-content" class="min-h-screen flex-col hidden"> <header class="bg-white shadow-sm sticky top-0 z-10"> <div class="container mx-auto px-4 sm:px-6 lg:px-8"> <div class="flex items-center justify-between h-16"> <div class="flex items-center"> <svg xmlns="http://www.w3.org/2000/svg" width="28" height="28" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="text-sky-600"><path d="M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10z"></path><path d="M12 8v4l2 2"></path></svg> <h1 class="text-xl font-bold text-slate-700 ml-2">Meu Plano de Sa\'fade</h1> </div> <div class="flex items-center"> <span id="patient-greet" class="text-slate-600 mr-3 hidden sm:block"></span> <img id="patient-avatar" class="h-10 w-10 rounded-full object-cover" src="" alt="Foto do Paciente"> </div> </div> </div> </header> <main class="flex-grow container mx-auto p-4 sm:p-6 lg:p-8"> <div class="bg-sky-600 text-white p-6 rounded-xl shadow-lg mb-8"> <h2 id="patient-welcome" class="text-2xl font-bold mb-2"></h2> <p class="text-sky-100">Aqui est\'e1 um resumo do seu plano de cuidados. Lembre-se, estamos juntos nessa jornada. Qualquer d\'favida, \'e9 s\'f3 chamar.</p> </div> <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"> <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 md:col-span-2 lg:col-span-3"> <div class="flex items-center mb-4"><div class="bg-green-100 p-3 rounded-full"><i data-feather="message-circle" class="text-green-500"></i></div><h3 class="text-lg font-semibold ml-4">Mensagens e Lembretes</h3></div> <div id="messages-container" class="space-y-4 max-h-60 overflow-y-auto pr-2"></div> <div id="no-messages" class="text-center text-slate-500 py-4 hidden"><p>Nenhuma mensagem nova.</p></div> </div> <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300"> <div class="flex items-center mb-4"><div class="bg-rose-100 p-3 rounded-full"><i data-feather="thermometer" class="text-rose-500"></i></div><h3 class="text-lg font-semibold ml-4">Minhas Medica\'e7\'f5es</h3></div> <p id="medications-summary" class="text-slate-600 mb-4"></p><ul id="medications-list" class="space-y-2 text-slate-700"></ul> <button class="mt-4 w-full bg-rose-500 text-white py-2 rounded-lg hover:bg-rose-600 transition-colors">Ver todos</button> </div> <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300"> <div class="flex items-center mb-4"><div class="bg-amber-100 p-3 rounded-full"><i data-feather="file-text" class="text-amber-500"></i></div><h3 class="text-lg font-semibold ml-4">Pr\'f3ximos Exames</h3></div> <div id="exams-content"></div><button class="mt-4 w-full bg-amber-500 text-white py-2 rounded-lg hover:bg-amber-600 transition-colors">Ver agendamentos</button> </div> <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300"> <div class="flex items-center mb-4"><div class="bg-indigo-100 p-3 rounded-full"><i data-feather="calendar" class="text-indigo-500"></i></div><h3 class="text-lg font-semibold ml-4">Consultas Agendadas</h3></div> <div id="appointments-content"></div><button class="mt-4 w-full bg-indigo-500 text-white py-2 rounded-lg hover:bg-indigo-600 transition-colors">Confirmar presen\'e7a</button> </div> <div class="bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow duration-300 md:col-span-2 lg:col-span-3"> <div class="flex items-center mb-4"><div class="bg-teal-100 p-3 rounded-full"><i data-feather="heart" class="text-teal-500"></i></div><h3 class="text-lg font-semibold ml-4">Plano de Cuidados Di\'e1rios</h3></div> <p class="text-slate-600 mb-4">Pequenos h\'e1bitos que fazem uma grande diferen\'e7a. Lembre-se de fazer as corre\'e7\'f5es de rota sempre que necess\'e1rio!</p> <div id="daily-care-list" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 text-slate-700"></div> </div> </div> </main> </div> <script type="module"> import \{ initializeApp \} from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js"; import \{ getFirestore, doc, onSnapshot \} from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js"; const firebaseConfig = \{ apiKey: "AIzaSyAOFgCKp27ETKDcqq6sU3t0GaJiKIk3xPg", authDomain: "forjaz-2e73d.firebaseapp.com", projectId: "forjaz-2e73d", storageBucket: "forjaz-2e73d.appspot.com", messagingSenderId: "202416797496", appId: "1:202416797496:web:4d6121303d5cce10c7b3cd" \}; const app = initializeApp(firebaseConfig); const db = getFirestore(app); function listenToPatientData(patientId) \{ const docRef = doc(db, "patients", patientId); onSnapshot(docRef, (docSnap) => \{ const loadingScreen = document.getElementById('loading-screen'); const appContent = document.getElementById('app-content'); if (docSnap.exists()) \{ populateUI(docSnap.data()); \} else \{ appContent.innerHTML = `<div class='container mx-auto p-8 text-center'><h1 class='text-2xl font-bold text-red-600'>Erro: Paciente n\'e3o encontrado.</h1><p class='text-slate-600 mt-2'>O ID fornecido n\'e3o corresponde a nenhum paciente no sistema.</p></div>`; \} if (loadingScreen.style.display !== 'none') \{ loadingScreen.style.display = 'none'; appContent.classList.remove('hidden'); appContent.classList.add('flex'); \} \}, (error) => \{ console.error("Erro ao escutar dados do paciente:", error); \}); \} function populateUI(data) \{ const firstName = data.name.split(' ')[0]; document.getElementById('patient-greet').textContent = `Ol\'e1, $\{firstName\}!`; document.getElementById('patient-welcome').textContent = `Bem-vindo de volta, $\{firstName\}!`; const avatar = document.getElementById('patient-avatar'); avatar.src = data.avatarUrl; avatar.onerror = () => \{ avatar.src = `https://placehold.co/100x100/E2E8F0/475569?text=$\{firstName.charAt(0)\}`; \}; const messagesContainer = document.getElementById('messages-container'); const noMessagesEl = document.getElementById('no-messages'); messagesContainer.innerHTML = ''; if (data.messages && data.messages.length > 0) \{ noMessagesEl.classList.add('hidden'); const sortedMessages = data.messages.sort((a, b) => (b.timestamp?.seconds || 0) - (a.timestamp?.seconds || 0)); sortedMessages.forEach(msg => \{ const date = msg.timestamp ? new Date(msg.timestamp.seconds * 1000).toLocaleString('pt-BR') : 'Enviando...'; const messageEl = document.createElement('div'); messageEl.className = 'bg-slate-100 p-4 rounded-lg'; messageEl.innerHTML = `<p class="text-slate-800">$\{msg.text\}</p><p class="text-xs text-slate-500 text-right mt-2">$\{date\}</p>`; messagesContainer.appendChild(messageEl); \}); \} else \{ noMessagesEl.classList.remove('hidden'); \} const medSummary = document.getElementById('medications-summary'); const medList = document.getElementById('medications-list'); medList.innerHTML = ''; if (data.medications && data.medications.length > 0) \{ medSummary.innerHTML = `Voc\'ea tem <span class="font-bold text-rose-600">$\{data.medications.length\} medicamentos</span> para hoje.`; data.medications.forEach(med => \{ const li = document.createElement('li'); li.innerHTML = `<span class="font-medium">$\{med.name\}:</span> $\{med.time\}`; medList.appendChild(li); \}); \} else \{ medSummary.textContent = 'Nenhum medicamento para hoje.'; \} const examsContent = document.getElementById('exams-content'); examsContent.innerHTML = ''; if (data.nextExam && data.nextExam.name) \{ examsContent.innerHTML = `<div class="border-l-4 border-amber-400 pl-4"><p class="font-bold">$\{data.nextExam.name\}</p><p class="text-sm text-slate-500">Data: $\{data.nextExam.date\}</p><p class="text-sm text-slate-500">Lembrete: $\{data.nextExam.note\}</p></div>`; \} else \{ examsContent.innerHTML = `<p class="text-slate-600">Nenhum exame agendado.</p>`; \} const appointmentsContent = document.getElementById('appointments-content'); appointmentsContent.innerHTML = ''; if (data.nextAppointment && data.nextAppointment.description) \{ appointmentsContent.innerHTML = `<div class="border-l-4 border-indigo-400 pl-4"><p class="font-bold">$\{data.nextAppointment.description\}</p><p class="text-sm text-slate-500">Data: $\{data.nextAppointment.date\}</p><p class="text-sm text-slate-500">Local: $\{data.nextAppointment.location\}</p></div>`; \} else \{ appointmentsContent.innerHTML = `<p class="text-slate-600">Nenhuma consulta agendada.</p>`; \} const dailyCareList = document.getElementById('daily-care-list'); dailyCareList.innerHTML = ''; if (data.dailyCare && data.dailyCare.length > 0) \{ data.dailyCare.forEach(care => \{ const div = document.createElement('div'); div.className = 'bg-slate-100 p-4 rounded-lg'; div.innerHTML = `<p class="font-semibold">$\{care.title\}</p><p class="text-sm">$\{care.description\}</p>`; dailyCareList.appendChild(div); \}); \} feather.replace(); \} window.onload = function() \{ const params = new URLSearchParams(window.location.search); const patientId = params.get('id'); if (patientId) \{ listenToPatientData(patientId); \} else \{ const loadingScreen = document.getElementById('loading-screen'); const appContent = document.getElementById('app-content'); loadingScreen.style.display = 'none'; appContent.classList.remove('hidden'); appContent.classList.add('flex'); appContent.innerHTML = `<div class='container mx-auto p-8 text-center'><h1 class='text-2xl font-bold text-red-600'>Erro: Paciente n\'e3o especificado.</h1><p class='text-slate-600 mt-2'>Por favor, acesse este painel atrav\'e9s de um link com a identifica\'e7\'e3o do paciente. Ex: ...?id=paciente-01</p></div>`; \} \}; </script> </body> </html>}
